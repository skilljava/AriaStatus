<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AriaCloud Status | ÙˆØ¶Ø¹ÛŒØª Ø³Ø±ÙˆØ±Ù‡Ø§</title>
    
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            /* Ø±Ù†Ú¯â€ŒÙ‡Ø§ÛŒ ØªÙ… Ù†Ø§Ø±Ù†Ø¬ÛŒ/Ø·Ù„Ø§ÛŒÛŒ */
            --bg-dark: #0f0a05; 
            --bg-glass: rgba(255, 200, 100, 0.05); 
            --border-glass: rgba(255, 200, 100, 0.15); 
            --blur-glass: 15px;
            --text-main: #ffffff;
            --text-sec: #e0e0e0; 
            
            --color-online: #4CAF50; /* Ø³Ø¨Ø² Ù…Ù„Ø§ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† */
            --color-offline: #FF7043; /* Ù†Ø§Ø±Ù†Ø¬ÛŒ-Ù‚Ø±Ù…Ø² Ø¨Ø±Ø§ÛŒ Ø¢ÙÙ„Ø§ÛŒÙ† */
            --color-maintenance: #FFCA28; /* Ø·Ù„Ø§ÛŒÛŒ Ø±ÙˆØ´Ù† Ø¨Ø±Ø§ÛŒ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ */
            --color-accent: #FFA726; /* Ù†Ø§Ø±Ù†Ø¬ÛŒ Ù¾Ø±Ø±Ù†Ú¯ Ùˆ Ø¨Ø±Ø¬Ø³ØªÙ‡ */
            
            --ping-low: #4CAF50; /* Ù¾ÛŒÙ†Ú¯ Ø®ÙˆØ¨: Ø³Ø¨Ø² */
            --ping-medium: #FFCA28; /* Ù¾ÛŒÙ†Ú¯ Ù…ØªÙˆØ³Ø·: Ø·Ù„Ø§ÛŒÛŒ */
            --ping-high: #FF7043; /* Ù¾ÛŒÙ†Ú¯ Ø¨Ø§Ù„Ø§: Ù†Ø§Ø±Ù†Ø¬ÛŒ */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Vazirmatn', sans-serif;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            background-image: radial-gradient(circle at 50% 10%, #20150d 0%, var(--bg-dark) 100%);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* --- Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Glassmorphism --- */
        .glass {
            background: var(--bg-glass);
            backdrop-filter: blur(var(--blur-glass));
            -webkit-backdrop-filter: blur(var(--blur-glass));
            border: 1px solid var(--border-glass);
            border-radius: 15px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.4); 
            overflow: hidden; 
        }
        
        /* --- Ù†ÙˆØ§Ø± ÙÛŒÙ„ØªØ± Ú©Ø´ÙˆØ±Ù‡Ø§ --- */
        .country-filter-nav {
            margin-bottom: 25px;
            padding: 10px;
            display: flex;
            gap: 10px;
            overflow-x: auto;
            white-space: nowrap;
        }

        .country-filter-nav button {
            background: none;
            border: 1px solid var(--border-glass);
            color: var(--text-sec);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.2s, border-color 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .country-filter-nav button:hover:not(.active) {
            background-color: rgba(255, 167, 38, 0.1);
            border-color: var(--color-accent);
        }

        .country-filter-nav button.active {
            background-color: var(--color-accent);
            color: var(--bg-dark); /* Ù…ØªÙ† ØªÛŒØ±Ù‡ Ø±ÙˆÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ù†Ø§Ø±Ù†Ø¬ÛŒ */
            border-color: var(--color-accent);
            font-weight: 700;
        }

        .country-flag {
            font-size: 1.2rem;
        }

        /* --- Ù‡Ø¯Ø± Ùˆ Ø¢Ù…Ø§Ø± Ú©Ù„ÛŒ --- */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 10px;
        }

        .logo {
            font-size: 2rem;
            font-weight: 800;
            color: var(--text-main);
        }

        .logo span {
            color: var(--color-accent);
        }

        .stats-summary {
            display: flex;
            gap: 25px;
            font-size: 0.9rem;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-sec);
        }

        .status-dot {
            height: 10px;
            width: 10px;
            border-radius: 50%;
            display: inline-block;
            transition: background-color 0.5s ease;
        }

        .online-dot { background-color: var(--color-online); }
        .offline-dot { background-color: var(--color-offline); }
        .maintenance-dot { background-color: var(--color-maintenance); }

        /* --- Ø¬Ø¯ÙˆÙ„ ÙˆØ¶Ø¹ÛŒØª Ø³Ø±ÙˆØ± --- */
        .server-table-wrapper {
            padding: 10px;
        }

        .server-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
            text-align: right;
        }

        .server-table th {
            padding: 15px 10px;
            color: var(--text-main); 
            font-weight: 600; 
            position: sticky;
            top: 0;
            background: rgba(15, 10, 5, 0.8); 
            backdrop-filter: blur(5px);
            z-index: 10;
            border-bottom: 1px solid var(--border-glass);
            white-space: nowrap;
        }

        .server-table td {
            padding: 15px 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08); 
            vertical-align: middle;
            transition: all 0.5s ease; 
            white-space: nowrap;
            color: var(--text-sec); 
        }

        .server-table tr:hover {
            background-color: rgba(255, 167, 38, 0.05); 
        }
        
        /* Ø³ØªÙˆÙ† ÙˆØ¶Ø¹ÛŒØª */
        .status-cell {
            font-weight: 600;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .status-online { color: var(--color-online); }
        .status-offline { color: var(--color-offline); }
        .status-maintenance { color: var(--color-maintenance); }

        /* Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒÙ†Ú¯ Ø¨Ø§ Ø±Ù†Ú¯ */
        .ping-low { color: var(--ping-low); font-weight: 600; }
        .ping-medium { color: var(--ping-medium); font-weight: 600; }
        .ping-high { color: var(--ping-high); font-weight: 600; }

        /* Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                align-items: flex-start;
            }

            .logo {
                margin-bottom: 15px;
            }

            .stats-summary {
                flex-wrap: wrap;
                gap: 15px;
            }

            .server-table-wrapper {
                overflow-x: auto;
            }

            .server-table {
                font-size: 0.8rem;
                min-width: 900px; 
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="header">
            <h1 class="logo">Aria<span>Cloud</span> Status</h1>
            
            <div class="stats-summary">
                <div class="stat-item">
                    <span id="stat-total-servers"></span> Ø³Ø±ÙˆØ± 
                </div>
                <div class="stat-item">
                    <span class="status-dot online-dot"></span> <span id="stat-online-count"></span> Ø¢Ù†Ù„Ø§ÛŒÙ†
                </div>
                <div class="stat-item">
                    <span class="status-dot offline-dot"></span> <span id="stat-offline-count"></span> Ø¢ÙÙ„Ø§ÛŒÙ†
                </div>
                <div class="stat-item">
                    <span class="status-dot maintenance-dot"></span> <span id="stat-maintenance-count"></span> Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ
                </div>
            </div>
        </div>
        
        <div class="glass country-filter-nav" id="country-filter-nav">
            </div>

        <div class="glass server-table-wrapper">
            <table class="server-table">
                <thead>
                    <tr>
                        <th><i class="fa-solid fa-server"></i> Ù†Ø§Ù… Ø³Ø±ÙˆØ±</th>
                        <th style="text-align: center;">ÙˆØ¶Ø¹ÛŒØª</th>
                        <th><i class="fa-solid fa-gauge-high"></i> Ø¢Ù¾ØªØ§ÛŒÙ…</th>
                        <th style="text-align: center;"><i class="fa-solid fa-signal"></i> Ù¾ÛŒÙ†Ú¯ (ms)</th>
                        <th style="text-align: center;"><i class="fa-solid fa-users"></i> Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¢Ù†Ù„Ø§ÛŒÙ†</th>
                        <th><i class="fa-solid fa-clock"></i> Ø¢Ø®Ø±ÛŒÙ† Ø¢Ù¾Ø¯ÛŒØª</th>
                        <th><i class="fa-solid fa-globe"></i> Ú©Ø´ÙˆØ±</th>
                        <th><i class="fa-solid fa-microchip"></i> CPU</th>
                        <th><i class="fa-solid fa-memory"></i> Ø±Ù…</th>
                    </tr>
                </thead>
                <tbody id="server-list-body">
                    </tbody>
            </table>
        </div>
        
        <p style="text-align: center; color: var(--text-sec); font-size: 0.8rem; margin-top: 20px;">
            <i class="fa-solid fa-wand-magic-sparkles" style="color: var(--color-accent);"></i>
            ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ Ùˆ Ø¢Ù…Ø§Ø± Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª. Ø¢Ù¾Ø¯ÛŒØª Ø¨Ø¹Ø¯ÛŒ Ø¯Ø± <span id="update-interval-display"></span> Ø§Ù†Ø¬Ø§Ù… Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.
        </p>

    </div>

    <script>
        // --- ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ùˆ Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ ---
        const SERVER_COUNT = 120;
        const UPDATE_INTERVAL = 30 * 60 * 1000; // 30 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ø± Ø­Ø³Ø¨ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡
        const SERVER_DATA_KEY = 'ariaCloudServerData';
        
        // Ù„ÛŒØ³Øª Ú©Ø§Ù…Ù„ Ú©Ø´ÙˆØ±Ù‡Ø§ Ø¨Ø§ Ù¾ÛŒÙ†Ú¯ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡
        const ALL_LOCATIONS = [
            { name: 'Ø§ÛŒØ±Ø§Ù†', code: 'IR', icon: 'ğŸ‡®ğŸ‡·', weight: 40, pingRange: [15, 40] },
            { name: 'ÙØ±Ø§Ù†Ø³Ù‡', code: 'FR', icon: 'ğŸ‡«ğŸ‡·', weight: 10, pingRange: [120, 180] },
            { name: 'Ø¢Ù„Ù…Ø§Ù†', code: 'DE', icon: 'ğŸ‡©ğŸ‡ª', weight: 15, pingRange: [100, 160] },
            { name: 'ÙÙ†Ù„Ø§Ù†Ø¯', code: 'FI', icon: 'ğŸ‡«ğŸ‡®', weight: 5, pingRange: [130, 200] },
            { name: 'Ù‡Ù„Ù†Ø¯', code: 'NL', icon: 'ğŸ‡³ğŸ‡±', weight: 10, pingRange: [110, 170] },
            { name: 'Ø§Ù…Ø§Ø±Ø§Øª', code: 'AE', icon: 'ğŸ‡¦ğŸ‡ª', weight: 5, pingRange: [40, 80] },
            { name: 'ØªØ±Ú©ÛŒÙ‡', code: 'TR', icon: 'ğŸ‡¹ğŸ‡·', weight: 5, pingRange: [60, 100] },
            { name: 'Ø³Ù†Ú¯Ø§Ù¾ÙˆØ±', code: 'SG', icon: 'ğŸ‡¸ğŸ‡¬', weight: 5, pingRange: [250, 350] },
            { name: 'Ø§ÛŒØ§Ù„Ø§Øª Ù…ØªØ­Ø¯Ù‡ Ø¢Ù…Ø±ÛŒÚ©Ø§', code: 'US', icon: 'ğŸ‡ºğŸ‡¸', weight: 5, pingRange: [200, 300] }
        ];

        const CPUS = ['Ryzen 9 7950X3D', 'Intel Xeon Gold 6338', 'Ryzen 7 5800X', 'Intel i9 13900K'];
        const RAMS = ['32GB DDR5', '64GB DDR4', '128GB DDR5'];
        const STATUS_WEIGHTS = { 'Online': 80, 'Offline': 10, 'Maintenance': 10 };

        let servers = [];
        let currentFilter = 'ALL'; // ÙÛŒÙ„ØªØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶

        // --- ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ ---

        function getRandomItemByWeight(weights) {
            const totalWeight = Object.values(weights).reduce((sum, w) => sum + w, 0);
            let randomNum = Math.random() * totalWeight;
            for (const status in weights) {
                randomNum -= weights[status];
                if (randomNum <= 0) return status;
            }
        }

        function getRandomLocation() {
            const totalWeight = ALL_LOCATIONS.reduce((sum, loc) => sum + loc.weight, 0);
            let randomNum = Math.random() * totalWeight;

            for (const loc of ALL_LOCATIONS) {
                randomNum -= loc.weight;
                if (randomNum <= 0) return loc;
            }
        }

        function generateServerName(index) {
            // Ù…Ù†Ø·Ù‚ ØªÙˆÙ„ÛŒØ¯ Ù†Ø§Ù… Ø³Ø±ÙˆØ± (Ø¨Ø±Ø§ÛŒ Ø«Ø§Ø¨Øª Ù†Ú¯Ù‡ Ø¯Ø§Ø´ØªÙ†)
            const group = Math.floor(index / 30) + 1;
            const number = (index % 30) + 1;
            return `IR-SV${group}-${number}`;
        }

        function generatePing(location) {
            // ØªÙˆÙ„ÛŒØ¯ Ù¾ÛŒÙ†Ú¯ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¨Ø§Ø²Ù‡ Ù…Ú©Ø§Ù†ÛŒ
            const [min, max] = location.pingRange;
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function getPingClass(ping) {
            if (ping < 80) return 'ping-low';
            if (ping < 180) return 'ping-medium';
            return 'ping-high';
        }

        function generateRandomTimeAgo(minutes) {
            const hours = Math.floor(minutes / 60);
            const remainingMinutes = minutes % 60;
            if (hours > 0) return `${hours} Ø³Ø§Ø¹Øª Ùˆ ${remainingMinutes} Ø¯Ù‚ÛŒÙ‚Ù‡ Ù¾ÛŒØ´`;
            if (remainingMinutes > 1) return `${remainingMinutes} Ø¯Ù‚ÛŒÙ‚Ù‡ Ù¾ÛŒØ´`;
            return `Ú†Ù†Ø¯ Ù„Ø­Ø¸Ù‡ Ù¾ÛŒØ´`;
        }
        
        // --- Ù…Ø¯ÛŒØ±ÛŒØª Persistence ---

        function saveServerState() {
            const dataToPersist = {
                servers: servers,
                lastUpdateTime: new Date().getTime()
            };
            localStorage.setItem(SERVER_DATA_KEY, JSON.stringify(dataToPersist));
        }

        // --- ØªÙˆÙ„ÛŒØ¯ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ (ÙÙ‚Ø· ÛŒÚ© Ø¨Ø§Ø± Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯) ---
        function generateNewServers() {
            const newServers = [];
            for (let i = 0; i < SERVER_COUNT; i++) {
                const status = getRandomItemByWeight(STATUS_WEIGHTS);
                const location = getRandomLocation();
                
                let initialUptime = 99.5 + (Math.random() * 0.4); 
                if (status === 'Offline' || status === 'Maintenance') {
                    initialUptime = 98.0 + (Math.random() * 1.5);
                }

                newServers.push({
                    id: i,
                    name: generateServerName(i),
                    location: location.name,
                    code: location.code,
                    icon: location.icon,
                    status: status,
                    uptime: initialUptime.toFixed(3),
                    ping: generatePing(location), // Ù¾ÛŒÙ†Ú¯ Ø§ÙˆÙ„ÛŒÙ‡
                    cpu: CPUS[Math.floor(Math.random() * CPUS.length)],
                    ram: RAMS[Math.floor(Math.random() * RAMS.length)],
                    onlineUsers: Math.floor(Math.random() * 100),
                    lastUpdateMinutes: 0, 
                });
            }
            return newServers;
        }

        // --- Ø±Ù†Ø¯Ø± Ø¬Ø¯ÙˆÙ„ Ùˆ Ø¢Ù…Ø§Ø± Ú©Ù„ÛŒ ---

        function updateTable() {
            const tbody = document.getElementById('server-list-body');
            tbody.innerHTML = '';
            
            let onlineCount = 0;
            let offlineCount = 0;
            let maintenanceCount = 0;
            
            const filteredServers = servers.filter(server => currentFilter === 'ALL' || server.code === currentFilter);
            
            filteredServers.forEach(server => {
                let statusText = '';
                let statusClass = '';
                let dotClass = '';
                
                switch (server.status) {
                    case 'Online':
                        statusText = 'Ø¢Ù†Ù„Ø§ÛŒÙ†';
                        statusClass = 'status-online';
                        dotClass = 'online-dot';
                        onlineCount++;
                        break;
                    case 'Offline':
                        statusText = 'Ø¢ÙÙ„Ø§ÛŒÙ†';
                        statusClass = 'status-offline';
                        dotClass = 'offline-dot';
                        offlineCount++;
                        break;
                    case 'Maintenance':
                        statusText = 'ØªØ¹Ù…ÛŒØ± Ùˆ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ';
                        statusClass = 'status-maintenance';
                        dotClass = 'maintenance-dot';
                        maintenanceCount++;
                        break;
                }
                
                const pingClass = getPingClass(server.ping);
                
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${server.icon} ${server.name}</td>
                    <td class="status-cell ${statusClass}"><span class="status-dot ${dotClass}"></span> ${statusText}</td>
                    <td>${server.uptime}%</td>
                    <td class="${pingClass}" style="text-align: center;">${server.ping}</td>
                    <td style="text-align: center;">${server.onlineUsers}</td>
                    <td>${generateRandomTimeAgo(server.lastUpdateMinutes)}</td>
                    <td>${server.location}</td>
                    <td>${server.cpu}</td>
                    <td>${server.ram}</td>
                `;
            });
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø± Ú©Ù„ÛŒ
            document.getElementById('stat-total-servers').textContent = SERVER_COUNT;
            document.getElementById('stat-online-count').textContent = onlineCount;
            document.getElementById('stat-offline-count').textContent = offlineCount;
            document.getElementById('stat-maintenance-count').textContent = maintenanceCount;
        }

        // --- Ù†ÙˆØ§Ø± ÙÛŒÙ„ØªØ± Ùˆ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ ---

        function setupFilterNav() {
            const nav = document.getElementById('country-filter-nav');
            
            // Ø¯Ú©Ù…Ù‡ "Ù‡Ù…Ù‡"
            const allButton = document.createElement('button');
            allButton.textContent = 'Ù‡Ù…Ù‡ Ø³Ø±ÙˆØ±Ù‡Ø§';
            allButton.classList.add('active');
            allButton.onclick = () => filterServers('ALL');
            nav.appendChild(allButton);
            
            // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø´ÙˆØ±Ù‡Ø§
            ALL_LOCATIONS.forEach(loc => {
                const button = document.createElement('button');
                button.innerHTML = `<span class="country-flag">${loc.icon}</span> ${loc.name}`;
                button.onclick = () => filterServers(loc.code);
                nav.appendChild(button);
            });
        }
        
        function filterServers(countryCode) {
            currentFilter = countryCode;
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„
            document.querySelectorAll('.country-filter-nav button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡ Ù…Ø±ØªØ¨Ø·
            const activeBtn = document.querySelector(`.country-filter-nav button[onclick*="${countryCode}"]`);
            if (activeBtn) {
                activeBtn.classList.add('active');
            }
            
            updateTable();
        }


        // --- Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø±ÙØªØ§Ø± Ø·Ø¨ÛŒØ¹ÛŒ Ø³Ø±ÙˆØ±Ù‡Ø§ (Ù…Ù†Ø·Ù‚ Ø§ØµÙ„ÛŒ) ---

        function simulateNaturalUpdate() {
            servers.forEach(server => {
                
                // 1. ØªØºÛŒÛŒØ± ÙˆØ¶Ø¹ÛŒØª ØªØµØ§Ø¯ÙÛŒ Ùˆ Ù†Ø§Ø¯Ø± 
                const randStatusChange = Math.random();
                if (randStatusChange < 0.008) { 
                    if (server.status === 'Online') {
                        server.status = Math.random() < 0.5 ? 'Offline' : 'Maintenance';
                    } else if (server.status !== 'Online') {
                        server.status = Math.random() < 0.2 ? 'Online' : server.status;
                    }
                }
                
                // 2. ØªØºÛŒÛŒØ±Ø§Øª Ø¬Ø²Ø¦ÛŒ Ø¢Ù¾ØªØ§ÛŒÙ…
                let uptimeFloat = parseFloat(server.uptime);
                if (server.status === 'Online') {
                    uptimeFloat += (Math.random() * 0.005) - 0.0025; 
                    if (uptimeFloat > 99.999) uptimeFloat = 99.999;
                } else {
                    uptimeFloat -= Math.random() * 0.05; 
                    if (uptimeFloat < 95.0) uptimeFloat = 95.0 + (Math.random() * 0.1); 
                }
                server.uptime = uptimeFloat.toFixed(3);


                // 3. ØªØºÛŒÛŒØ±Ø§Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¢Ù†Ù„Ø§ÛŒÙ† Ùˆ Ù¾ÛŒÙ†Ú¯
                let userChange = Math.floor(Math.random() * 10) - 4; 
                server.onlineUsers = Math.max(0, server.onlineUsers + userChange);
                if (server.status !== 'Online') server.onlineUsers = Math.floor(server.onlineUsers * 0.8); 
                
                // Ù†ÙˆØ³Ø§Ù† Ù¾ÛŒÙ†Ú¯
                const loc = ALL_LOCATIONS.find(l => l.code === server.code);
                if (loc) {
                    const [min, max] = loc.pingRange;
                    let pingChange = Math.floor(Math.random() * 10) - 5; // Ù†ÙˆØ³Ø§Ù† 
                    server.ping = Math.min(max, Math.max(min, server.ping + pingChange));
                }
                
                // 4. Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø²Ù…Ø§Ù†
                server.lastUpdateMinutes = 0; 
            });

            // Ø°Ø®ÛŒØ±Ù‡ ÙˆØ¶Ø¹ÛŒØª Ø¬Ø¯ÛŒØ¯ Ùˆ Ø²Ù…Ø§Ù† Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ
            saveServerState(); 
            updateTable(); 

            // ØªÙ†Ø¸ÛŒÙ… ØªØ§ÛŒÙ…Ø± Ø¨Ø±Ø§ÛŒ 30 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ø¹Ø¯
            window.updateTimer = setTimeout(simulateNaturalUpdate, UPDATE_INTERVAL);
            document.getElementById('update-interval-display').textContent = `30 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¯ÛŒÚ¯Ø±`;
        }

        // --- Ø´Ø±ÙˆØ¹ Ú©Ø§Ø± ---
        function initializeServers() {
            const persistedData = localStorage.getItem(SERVER_DATA_KEY);
            let timeToNextUpdate = UPDATE_INTERVAL;

            if (persistedData) {
                const data = JSON.parse(persistedData);
                const currentTime = new Date().getTime();
                const timeElapsed = currentTime - data.lastUpdateTime;

                // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡
                servers = data.servers;

                if (timeElapsed < UPDATE_INTERVAL) {
                    timeToNextUpdate = UPDATE_INTERVAL - timeElapsed;
                } else {
                    // Ø§Ú¯Ø± Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ØŒ ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ Ø±Ø§ ÛŒÚ© Ø¨Ø§Ø± Ø¢Ù¾Ø¯ÛŒØª Ú©Ù†
                    simulateNaturalUpdate(); 
                    return; 
                }
            } else {
                // ØªÙˆÙ„ÛŒØ¯ Ø¯Ø§Ø¯Ù‡ Ø¬Ø¯ÛŒØ¯ (Ø«Ø¨Ø§Øª Ù†Ø§Ù… Ø³Ø±ÙˆØ±Ù‡Ø§ ØªØ¶Ù…ÛŒÙ† Ø´Ø¯)
                servers = generateNewServers();
                saveServerState();
            }

            // Ø±Ù†Ø¯Ø± Ø§ÙˆÙ„ÛŒÙ‡ Ùˆ ØªÙ†Ø¸ÛŒÙ… ØªØ§ÛŒÙ…Ø±
            setupFilterNav(); // Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù†ÙˆØ§Ø± ÙÛŒÙ„ØªØ±
            updateTable();
            
            const remainingMinutes = Math.ceil(timeToNextUpdate / 60000);
            document.getElementById('update-interval-display').textContent = `${remainingMinutes} Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¯ÛŒÚ¯Ø±`;

            window.updateTimer = setTimeout(simulateNaturalUpdate, timeToNextUpdate);
        }

        window.onload = initializeServers;
    </script>

</body>
</html>
